# Pentesting Dev Shell

This flake provides a dedicated pentesting development shell instead of baking the tooling directly into system profiles. Enter it with:

```bash
nix develop .#pentesting --command <tool> [args]
```

Included tools:

- burpsuite
- nmap
- wireshark
- aircrack-ng
- hydra
- john
- sqlmap
- metasploit
- hashcat
- wappalyzer

Note: tools are provided via the `.#pentesting` dev shell; they are not added to host `environment.systemPackages` (for example, metasploit runs only inside the shell or wrappers).

## Launcher Wrappers

Assign the `pentesting-devshell` role to hosts that should expose wrapper scripts (`pentest-burpsuite`, `pentest-wireshark`, etc.) and matching `.desktop` launchers. The role appends the Home Manager module that installs these wrappers, so System76 now gets them automatically. On other hosts add the role just like any other:

```nix
configurations.nixos.<host>.module = { ... }:
{
  imports = [
    config.flake.nixosModules.roles."pentesting-devshell"
    # other roles...
  ];
}
```

Make sure your user is in the `wireshark` group before capturing packets.

## Notes

- Heavy GUI apps stay outside the base system closure, keeping rebuilds fast while still letting you launch them on demand.
- You can add more wrappers by extending `modules/hm-apps/pentesting-devshell.nix` with additional `guiEntries` or tool names.
- Combine the shell with `nix run` or scripts for ad-hoc tasks without modifying host roles.
