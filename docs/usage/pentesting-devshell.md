# Pentesting Dev Shell

Pentesting tools are provided via a dedicated devshell rather than system-wide installation, keeping the base system closure small.

## Usage

```bash
# Enter the shell
nix develop .#pentesting

# Run a single command
nix develop .#pentesting --command nmap -sV target.local
```

## Desktop Launchers

The `pentesting-devshell` Home Manager module provides wrapper scripts (`pentest-burpsuite`, `pentest-wireshark`, etc.) and `.desktop` entries for GUI tools. These are enabled by default for the system76 host.

To capture packets with Wireshark, ensure your user is in the `wireshark` group.

## Adding Tools

Edit `toolDefs` in `modules/devshell/pentesting.nix`:

```nix
{ name = "newtool"; }                    # Both package and wrapper
{ name = "newtool"; devshellOnly = true; }   # Package only, no wrapper
{ name = "newtool"; wrapperOnly = true; }    # Wrapper only, no package
```

Then add the package mapping in `toolPackageMap`.
